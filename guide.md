# Work on UCloud

[![hackmd-github-sync-badge](https://hackmd.io/p9SWqERxT7e6C1Dj3TkdgQ/badge)](https://hackmd.io/p9SWqERxT7e6C1Dj3TkdgQ)


## R 

### Renv

create a `.Renviron` in the project folder and write the line:

```
RENV_PATHS_CACHE=/work/Renv
```

### (Optional) Configure repository

create a `.Rprofile` in the project folder and write the line:

```
# Configure BioCManager to use Posit Package Manager:
options(BioC_mirror = "https://packagemanager.posit.co/bioconductor")
options(BIOCONDUCTOR_CONFIG_FILE = "https://packagemanager.posit.co/bioconductor/config.yaml")

# Configure a CRAN snapshot compatible with Bioconductor 3.19:
options(repos = c(CRAN = "https://packagemanager.posit.co/cran/__linux__/jammy/latest"))
```

## Python

Create a conda env.

## SevenBridges

SevenBridges is a cloud based commericial bioinformatics platform. BD users can use BD pre-configured pipelines to process single cell RNA-seq data generated by BD Rhapsody system.

### Transfer data from UCloud to SevenBridges.

Step 0: request an account from [here](https://velsera.com/bd-rhapsody).

Step 1: start a terminal APP and install SevenBridges command line tool (`sb`). Check the [reference](https://docs.sevenbridges.com/docs/command-line-interface) for any update.

Step 2: Authorize `sb` by `sb configure`. Refer to [here](https://docs.sevenbridges.com/docs/command-line-interface#configure-credentials) to retrieve authentication tokens.

Step 3: Crete a project or identify the project path. Example: `tuhu/chlamydia01`.

Step 4: Upload the file, using the `bd upload` command. Example: `sb upload start chlamydia-01-fastq/trim --destination tuhu/chlamydia01 --tag upload_trimmed_data`


## Download data from SevenBridges to UCloud

- Start a Terminal application.

- Install `aria2c` by:

```
sudo add-apt-repository ppa:savoury1/backports
sudo apt-get update
sudo apt-get install aria2
```

- Follow the instructions [here](https://docs.sevenbridges.com/docs/download-results#download-files-using-direct-download-links)